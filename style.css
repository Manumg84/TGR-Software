/* Sidebar */
#sidebar {
    min-width: 250px;
    max-width: 250px;
    background: linear-gradient(to bottom, #1a2a3a, #0a1014); /* Dark blue to black gradient */
    min-height: 100vh;
    transition: all 0.5s ease;
    border-right: 1px solid rgba(255, 255, 255, 0.1); /* Lighter border for dark background */
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.2); /* Darker shadow for depth */
    border-radius: 0 15px 15px 0; /* Rounded right corners */
    padding: 15px 0;
    display: flex; /* Enable flexbox for vertical alignment */
    flex-direction: column; /* Stack items vertically */
}

#sidebar .sidebar-header {
    height: 70px;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center; /* Center logo */
    background: transparent;
    color: #eee; /* Lighter text for header */
    font-weight: 600;
    font-size: 22px; /* Adjusted from 24px */
    margin-bottom: 20px;
}

#sidebar .sidebar-header .icon {
    font-size: 26px; /* Adjusted from 28px */
    min-width: 50px; /* Adjust min-width */
    text-align: center;
    color: #8bbce1; /* Lighter primary color for icon */
}

#sidebar .sidebar-header .logo-name {
    font-size: 20px; /* Adjusted from 22px */
    font-weight: 700;
    color: #8bbce1; /* Lighter primary color for logo */
}

#sidebar .nav-links {
    padding: 0 15px; /* Add padding to sides */
    overflow-y: auto;
    overflow-x: hidden;
    flex-grow: 1; /* Allow navigation links to take up available space */
}

#sidebar .nav-links::-webkit-scrollbar {
  width: 6px;
}
#sidebar .nav-links::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05); /* Lighter scrollbar track */
}
#sidebar .nav-links::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2); /* Lighter scrollbar thumb */
  border-radius: 3px;
}
#sidebar .nav-links::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

#sidebar .nav-links li {
    position: relative;
    list-style: none;
    transition: all 0.3s ease;
    margin-bottom: 8px; /* Spacing between items */
}

#sidebar .nav-links li:hover {
    background: rgba(255, 255, 255, 0.1); /* Subtle white hover background */
    border-radius: 8px;
}

#sidebar .nav-links li .iocn-link {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 15px;
}

#sidebar .nav-links li i.icon {
    height: 40px;
    text-align: center;
    line-height: 40px;
    color: #e0e0e0; /* Lighter icon color */
    font-size: 14px; /* Adjusted from 16px */
    cursor: pointer;
    transition: all 0.3s ease;
}

#sidebar .nav-links li a {
    display: flex;
    align-items: center;
    text-decoration: none;
    width: 100%;
    padding: 10px 15px; /* Padding for main links */
    border-radius: 8px;
}

#sidebar .nav-links li a .link-name {
    font-size: 12px; /* Adjusted from 14px */
    font-weight: 500;
    color: #e0e0e0; /* Lighter text for links */
    transition: all 0.3s ease;
}

#sidebar .nav-links li .sub-menu {
    padding: 6px 0 6px 40px; /* Adjust padding for sub-menu */
    margin-top: 5px;
    background: rgba(0, 0, 0, 0.2); /* Darker, slightly transparent sub-menu background */
    border-radius: 8px;
    display: none;
}

#sidebar .nav-links li.showMenu .sub-menu {
    display: block;
}

#sidebar .nav-links li .sub-menu a {
    color: #ddd; /* Lighter sub-menu text */
    font-size: 10px; /* Adjusted from 12px */
    padding: 6px 15px; /* Adjust padding */
    white-space: nowrap;
    opacity: 0.8;
    transition: all 0.3s ease;
}

#sidebar .nav-links li .sub-menu a:hover {
    opacity: 1;
    color: #8bbce1; /* Lighter primary color on hover */
}

#sidebar .nav-links li a.nav-link.active {
    background-color: #0d6efd; /* Primary blue for active */
    color: #fff;
}
#sidebar .nav-links li a.nav-link.active .link-name,
#sidebar .nav-links li a.nav-link.active i.icon {
    color: #fff; /* White text/icon for active */
}

#sidebar .nav-links li.showMenu i.arrow {
    transform: rotate(90deg); /* Rotate 90 for better visual */
    color: #8bbce1; /* Lighter primary color for active arrow */
}
#sidebar .nav-links i.arrow{
    height: 40px;
    min-width: 40px;
    text-align: center;
    line-height: 40px;
    color: #bbb; /* Lighter arrow color */
    font-size: 10px; /* Adjusted from 12px */
    cursor: pointer;
    transition: all 0.3s ease;
}

#sidebar .nav-links li .sub-menu.blank {
    opacity: 0;
    pointer-events: none;
}

/* Sidebar Calendar and Agenda */
#sidebar .sidebar-card {
    padding: 10px; /* Make smaller */
    margin-bottom: 10px;
    background: rgba(255, 255, 255, 0.05); /* Subtle light translucent for sidebar cards */
    box-shadow: none; /* Remove shadow */
    border: 1px solid rgba(255,255,255,0.1); /* Subtle light border */
}
#sidebar .calendar-widget .card-title {
    font-size: 0.85rem; /* Adjusted from 1rem */
    margin-bottom: 0.5rem;
    color: #e0e0e0 !important; /* Lighter text color */
}
#sidebar .calendar-widget h3 { /* Changed from h1 for smaller size */
    font-size: 24px; /* Adjusted from 26px */
    margin-bottom: 0.2rem;
    color: #8bbce1 !important; /* Lighter primary color for day */
}
#sidebar .calendar-widget p.lead {
    font-size: 0.85rem; /* Adjusted from 1rem */
    margin-bottom: 0.1rem;
    color: #e0e0e0 !important; /* Lighter text color */
}
#sidebar .calendar-widget small {
    font-size: 8px; /* Adjusted from 10px */
    color: #cccccc !important; /* Lighter muted text */
}

#sidebar .agenda-display .card-header {
    background: transparent !important; /* Transparent header */
    border-bottom: none !important;
}
#sidebar .agenda-display .card-header h5 {
    color: #e0e0e0 !important; /* Lighter text color */
}
#sidebar .agenda-display .list-group-item {
    font-size: 11px; /* Adjusted from 13px */
    padding: 8px 15px;
    color: #e0e0e0 !important; /* Lighter text for agenda items */
    background-color: transparent !important;
    border-bottom: 1px solid rgba(255,255,255,0.1) !important; /* Lighter border */
}
#sidebar .agenda-display .list-group-item:last-child {
    border-bottom: none !important;
}
#sidebar .agenda-display .list-group-item .text-primary {
    color: #8bbce1 !important; /* Lighter primary color for icon */
}

/* Sidebar Footer for User Profile */
#sidebar-footer {
    padding-top: 15px;
    margin-top: 15px; /* Push to bottom */
    border-top: 1px solid rgba(255, 255, 255, 0.1); /* Lighter border */
}
#sidebar-footer .user-profile img {
    width: 30px;
    height: 30px;
    object-fit: cover;
}
#sidebar-footer .user-profile span {
    font-size: 0.75rem; /* Adjusted from 0.9rem */
    color: #e0e0e0 !important; /* Lighter text color */
}
#sidebar-footer .fa-bell {
    font-size: 15px !important; /* Adjusted from 17px */
    color: #e0e0e0 !important; /* Lighter bell icon color */
}
#sidebar-footer .badge {
    font-size: 0.5em; /* Adjusted from 0.6em */
    padding: 0.3em;
}
#sidebar-footer .fa-chevron-down {
    color: #e0e0e0 !important; /* Lighter arrow color */
}

/* Page Content Wrapper */
#page-content-wrapper {
    flex-grow: 1;
    background: linear-gradient(90deg, rgb(41, 55, 69) 0%, rgb(35, 47, 59) 100%);
}

/* Global Font - Poppins */
body {
    font-family: 'Poppins', sans-serif;
}

/* Top Navbar */
#top-navbar {
    height: auto; /* Allow height to adjust based on content */
    padding: 10px 25px; /* Adjust padding to give some space around cards */
    display: flex;
    align-items: center;
    justify-content: flex-start; /* Align cards to the start, if no other elements are on the right */
    flex-wrap: wrap; /* Allow cards to wrap on smaller screens if needed */
}

/* Specific styles for dashboard cards within the top-navbar */
.dashboard-card.top-navbar-card {
    height: 60px; /* Fixed height */
    width: 320px; /* Adjusted width */
    padding: 0 10px; /* Reduced padding */
    display: flex; /* Make the card itself a flex container */
    align-items: center; /* Vertically center content */
    flex-shrink: 0; /* Prevent cards from shrinking */
}

.top-navbar-card .card-body {
    padding: 0; /* No padding inside card-body, it's on the card itself */
    display: flex;
    flex-direction: row; /* Ensure horizontal layout within body */
    align-items: center;
    justify-content: space-between;
    width: 100%;
}

.top-navbar-card .card-body > div:first-child {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    line-height: 1; /* Helps compress vertical space */
}

.top-navbar-card .card-title {
    font-size: 0.6rem; /* Adjusted from 0.75rem */
    margin-bottom: 0px !important; /* Remove bottom margin */
    line-height: 1; /* Compact line height */
}

.top-navbar-card h2 {
    font-size: 0.9rem; /* Adjusted from 1.1rem */
    margin-bottom: 0px !important; /* Remove bottom margin */
    line-height: 1;
}

.top-navbar-card .card-text {
    font-size: 0.5rem; /* Adjusted from 0.65rem */
    margin-bottom: 0px !important; /* Remove bottom margin */
    line-height: 1;
}

.top-navbar-card .fa-lg { /* Changed from fa-2x to fa-lg in HTML */
    font-size: 0.9rem !important; /* Adjusted from 1.1rem */
}


/* Main Content Area */
#main-content {
    padding: 30px; /* More padding */
    background: linear-gradient(90deg, rgb(41, 55, 69) 0%, rgb(35, 47, 59) 100%);
    border-radius: 15px; /* Add border-radius for consistency */
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5); /* Inner shadow for depth */
}

/* Dashboard Cards (main content) */
.dashboard-card {
    background: #ffffff; /* Keep white for contrast */
    border-radius: 15px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
    border: none;
    padding: 15px; /* Reduced from 20px for half height effect */
    height: 100%; /* Ensure cards fill height */
}

/* Apply fixed dimensions and scroll to p-4 dashboard cards */
.dashboard-card.p-4 {
    width: 1200px; /* Fixed width as requested */
    height: 600px; /* Fixed height as requested */
    overflow: auto; /* Enable scrolling when content exceeds fixed size */
    max-width: 1400px;
}

/* Specific fixed dimensions and scroll for main tab panes */
#gestion-pane,
#ordenes_parent-pane,
#settings-pane {
    width: 1500px;
    height: 100%;
    overflow-y: auto; /* Activated vertical scroll */
    overflow-x: hidden; /* Hide horizontal scroll */
    max-height: 100%;
}

/* Specific Card Colors */
.dashboard-card.primary-card {
    background: linear-gradient(90deg, rgb(41, 55, 69) 0%, rgb(35, 47, 59) 100%);
}
.dashboard-card.success-card {
    background: linear-gradient(135deg, #28a745 0%, #218838 100%); /* Green gradient */
}
.dashboard-card.warning-card {
    background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%); /* Orange gradient */
}

.dashboard-card .card-title {
    font-size: 11px; /* Adjusted from 13px */
    margin-bottom: 8px;
}
.dashboard-card h2 {
    font-size: 28px; /* Adjusted from 30px */
    margin-bottom: 5px;
}
.dashboard-card .card-text {
    font-size: 9px; /* Adjusted from 11px */
}

/* Tab Navigation Styling */
.nav-tabs {
    border-bottom: none; /* Remove default border */
    margin-bottom: 0; /* No margin below tabs */
    display: flex;
    align-items: flex-end; /* Align tabs to the bottom edge */
    position: relative;
    z-index: 1; /* Tabs layer above content */
    padding-left: 15px; /* Give some space on the left before the first tab */
}

.nav-tabs .nav-item {
    margin-bottom: 0;
    margin-right: -15px; /* Overlap tabs to create the visual effect */
    position: relative;
    /* z-index will be handled by the .active state on the link */
}

.nav-tabs .nav-item .nav-link {
    position: relative;
    z-index: 1; /* Inactive tabs */
}

.nav-tabs .nav-item .nav-link.active {
    z-index: 3; /* Active tabs */
}

.nav-tabs .nav-item:has(.nav-link.active) {
    z-index: 2; /* Bring the active tab's li element to the front */
}

.nav-tabs .nav-item:last-child {
    margin-right: 0; /* No overlap for the very last tab */
}

.nav-tabs .nav-link {
    border: none;
    border-radius: 0;
    padding: 0.65rem 2.3rem; /* Adjusted padding */
    color: #6c757d;
    transition: all 0.3s ease-in-out;
    display: flex; /* Make it a flex container */
    align-items: center;
    justify-content: space-between; /* Space out content and button */
    background-color: #e9ecef; /* Inactive tab background (light grey) */
    transform: skewX(-20deg); /* Skew the tab shape */
    box-shadow: 0 2px 5px rgba(0,0,0,0.05); /* Subtle shadow */
    height: 43px; /* Adjusted height for tabs */
    line-height: 1; /* Adjust line height for vertical alignment of content */
    white-space: nowrap; /* Prevent text wrapping inside tab */
    cursor: pointer;
    z-index: 1; /* Default z-index for the button */
}

/* Counter-skew for text and icons inside the link to make them horizontal */
.nav-tabs .nav-link .tab-label {
    transform: skewX(20deg); /* Counter-skew children */
    display: inline-flex; /* Use flex for alignment inside tab-label */
    align-items: center; /* For text and icon alignment */
    font-size: 0.85rem; /* Adjusted tab label font size */
}

.nav-tabs .nav-link .tab-label {
    flex-grow: 1; /* Allow label to take available space */
    justify-content: center; /* Center the text/icon within its space */
}

.nav-tabs .nav-link.active {
    color: #343a40; /* Darker text for active tab */
    background-color: #fff; /* Active tab background (white) */
    transform: skewX(-20deg) translateY(-5px); /* Lift and skew active tab */
    z-index: 3; /* Bring active tab button to the very front */
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1); /* More prominent shadow for active tab */
    font-weight: 600; /* Bolder text for active tab */
    border-top: 3px solid #0d6efd; /* Blue line on top of active tab */
    padding-bottom: calc(0.65rem + 5px); /* Adjust padding to compensate for translateY */
}

.nav-tabs .nav-link:hover:not(.active) {
    background-color: #dbe0e4; /* Darker grey on hover for inactive tabs */
    color: #555;
    transform: skewX(-20deg) translateY(-2px); /* Slight lift on hover */
    box-shadow: 0 4px 10px rgba(0,0,0,0.08);
}

/* Original close button styles, now redundant for tab header buttons */
/* The one inside tab-pane is now generated by JS */
.tab-content .close-tab-btn {
    position: absolute;
    top: 13px; /* Adjusted from 15px */
    right: 18px; /* Adjusted from 20px */
    background: transparent;
    border: none;
    font-size: 1rem; /* Adjusted from 1.2rem */
    color: #6c757d;
    opacity: 0.6;
    transition: all 0.2s ease-in-out;
    line-height: 1;
    padding: 4px; /* Adjusted from 5px */
    z-index: 10;
    cursor: pointer;
}
.tab-content .close-tab-btn:hover {
    opacity: 1;
    color: #dc3545; /* Red on hover */
}

.tab-content > .tab-pane {
    background-color: #fff; /* Keep white for contrast */
    padding: 23px; /* Adjusted from 25px */
    border-radius: 0 15px 15px 15px; /* Top-left flat to align with tab, other corners rounded */
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
    margin-top: -10px; /* Overlap with tabs slightly for seamless connection */
    position: relative;
    z-index: 0; /* Below tabs */
    min-height: 300px;
}

/* Calendar Widget specific styles */
.calendar-widget {
    background-color: #fff;
    color: #333;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}
.calendar-widget h1,
.calendar-widget p {
    margin-bottom: 0.2rem;
}
.calendar-widget small {
    color: #777;
    margin-top: 10px;
    display: block;
}

/* Agenda Display specific styles */
.agenda-display .list-group-item {
    background-color: transparent;
    border: none;
    border-bottom: 1px solid #eee;
    padding: 10px 18px; /* Adjusted padding */
    color: #333;
    font-size: 11px; /* Adjusted from 13px */
}
.agenda-display .list-group-item .badge {
    padding: 5px 8px; /* Adjusted padding */
    font-size: 0.7em; /* Adjusted from 0.8em */
    font-weight: 500;
}

/* Badges for status */
.badge.bg-success-subtle {
    background-color: rgba(40, 167, 69, 0.15) !important;
    color: #28a745 !important;
}
.badge.bg-warning-subtle {
    background-color: rgba(255, 193, 7, 0.15) !important;
    color: #ffc107 !important;
}
.badge.bg-info-subtle {
    background-color: rgba(23, 162, 184, 0.15) !important;
    color: #17a2b8 !important;
}
/* New badges for agenda to match new dark theme */
.badge.bg-primary-subtle {
    background-color: rgba(139, 188, 225, 0.15) !important; /* Lighter blue subtle */
    color: #8bbce1 !important;
}
.badge.bg-secondary-subtle {
    background-color: rgba(173, 181, 189, 0.15) !important; /* Lighter grey subtle */
    color: #adb5bd !important;
}

/* Table styling for recent activity */
.table-responsive {
    border-radius: 10px;
    overflow: hidden; /* Ensures rounded corners on table within card */
}

.table {
    margin-bottom: 0;
    background-color: #fff; /* Keep white for contrast */
}

.table th,
.table td {
    padding: 2px 20px;
    border-top: 1px solid #eee;
    color: #333;
    vertical-align: middle;
    font-size: 12px; /* Adjusted from base 14px */
}

.table thead th {
    font-size: 10px; /* Adjusted from 12px */
    background-color: #f8f9fa;
    color: #666;
    font-weight: 600;
    border-bottom: 1px solid #ddd;
    text-transform: uppercase;
    font-size: 12px; /* Adjusted from 14px */
}

.table-hover tbody tr:hover {
    background-color: #f5f5f5;
}

/* Specific width for the dashboard recent activity table card */
#dashboard-pane .dashboard-card {
    width: 1300px;
}

/* Modal styling */
.modal-content {
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
    background: linear-gradient(to bottom, #f0f0f0, #e0e0e0); /* Changed from #fff to grey gradient */
}

.modal-header {
    border-bottom: 1px solid #eee;
    background-color: transparent;
}

.modal-title {
    font-weight: 600;
    color: #333; /* Darker text */
    font-size: 1rem; /* Adjusted from 14px base, now 1rem = 14px, previously was 1.25rem = 20px */
}

.modal-body .form-label {
    font-weight: 500;
    color: #555;
    font-size: 12px; /* Adjusted from base 14px */
}

.modal-body .form-control {
    border-radius: 8px;
    border-color: #ddd;
    font-size: 12px; /* Adjusted from base 14px */
    background-color: #fff; /* Ensure default background is white */
}
.modal-body .form-control:focus {
    border-color: #0d6efd;
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}

/* NEW: Style for readonly form controls */
.modal-body .form-control[readonly] {
    background-color: #d6d6d6 !important; /* Grey background for locked inputs */
}

/* Specific width for the "Crear Cliente" button */
.button-frame {
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 4px; /* Adjusted from 5px */
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    width: 150px; /* Adjusted from 160px */
    height: 58px; /* Adjusted from 60px */
}

.btn-create-client,
.btn-create-proveedor,
.btn-create-operario {
    width: 140px; /* Adjusted from 150px */
    height: 48px; /* Adjusted from 50px */
    font-size: 0.75em; /* Adjusted from 0.9em */
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Override Bootstrap's w-md-auto for this specific button on medium screens and up */
@media (min-width: 768px) {
    .btn-create-client.w-md-auto,
    .btn-create-proveedor.w-md-auto,
    .btn-create-operario.w-md-auto {
        width: 140px !important; /* Adjusted from 150px */
        height: 48px !important; /* Adjusted from 50px */
    }
}

/* Adjustments for the clients table to prevent overflow with fewer columns */
#clientsTable {
    table-layout: fixed; /* Ensures column widths are respected */
}
#clientsTable th,
#clientsTable td {
    white-space: nowrap; /* Prevent text wrapping in table headers/cells */
    overflow: hidden;
    text-overflow: ellipsis; /* Add ellipsis for overflow */
}
#clientsTable thead th:nth-child(1), #clientsTable tbody td:nth-child(1) { width: 80px; } /* ID */
#clientsTable thead th:nth-child(2), #clientsTable tbody td:nth-child(2) { width: 328px; } /* Nombre/Empresa */
#clientsTable thead th:nth-child(3), #clientsTable tbody td:nth-child(3) { width: 120px; } /* CIF/NIF */
#clientsTable thead th:nth-child(4), #clientsTable tbody td:nth-child(4) { width: 120px; } /* Teléfono 1 */
#clientsTable thead th:nth-child(5), #clientsTable tbody td:nth-child(5) { width: 120px; } /* Teléfono 2 */
#clientsTable thead th:nth-child(6), #clientsTable tbody td:nth-child(6) { width: 250px; } /* Email */

/* Table styles for Proveedores */
#proveedoresTable {
    table-layout: fixed; /* Ensures column widths are respected */
}
#proveedoresTable th,
#proveedoresTable td {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
#proveedoresTable thead th:nth-child(1), #proveedoresTable tbody td:nth-child(1) { width: 80px; } /* ID */
#proveedoresTable thead th:nth-child(2), #proveedoresTable tbody td:nth-child(2) { width: 328px; } /* Nombre Proveedor */
#proveedoresTable thead th:nth-child(3), #proveedoresTable tbody td:nth-child(3) { width: 120px; } /* CIF/NIF */
#proveedoresTable thead th:nth-child(4), #proveedoresTable tbody td:nth-child(4) { width: 120px; } /* Telefono 1 */
#proveedoresTable thead th:nth-child(5), #proveedoresTable tbody td:nth-child(5) { width: 120px; } /* Telefono 2 */
#proveedoresTable thead th:nth-child(6), #proveedoresTable tbody td:nth-child(6) { width: 250px; } /* Email */

/* Table styles for Operarios */
#operariosTable th,
#operariosTable td {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
#operariosTable thead th:nth-child(1), #operariosTable tbody td:nth-child(1) { width: 5%; }
#operariosTable thead th:nth-child(2), #operariosTable tbody td:nth-child(2) { width: 30%; }
#operariosTable thead th:nth-child(3), #operariosTable tbody td:nth-child(3) { width: 25%; }
#operariosTable thead th:nth-child(4), #operariosTable tbody td:nth-child(4) { width: 15%; }
#operariosTable thead th:nth-child(5), #operariosTable tbody td:nth-child(5) { width: 25%; }

/* Table styles for Categories */
#categoriesTable th,
#categoriesTable td {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
#categoriesTable thead th:nth-child(1), #categoriesTable tbody td:nth-child(1) { width: 5%; } /* ID */
#categoriesTable thead th:nth-child(2), #categoriesTable tbody td:nth-child(2) { width: 25%; } /* Nombre */
#categoriesTable thead th:nth-child(3), #categoriesTable tbody td:nth-child(3) { width: 15%; } /* Código */
#categoriesTable thead th:nth-child(4), #categoriesTable tbody td:nth-child(4) { width: 35%; } /* Observaciones */
#categoriesTable thead th:nth-child(5), #categoriesTable tbody td:nth-child(5) { width: 20%; } /* Acciones */

/* Table styles for Work Statuses */
#workStatusesTable th,
#workStatusesTable td {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
#workStatusesTable thead th:nth-child(1), #workStatusesTable tbody td:nth-child(1) { width: 10%; } /* ID */
#workStatusesTable thead th:nth-child(2), #workStatusesTable tbody td:nth-child(2) { width: 25%; } /* Nombre */
#workStatusesTable thead th:nth-child(3), #workStatusesTable tbody td:nth-child(3) { width: 40%; } /* Descripción */
#workStatusesTable thead th:nth-child(4), #workStatusesTable tbody td:nth-child(4) { width: 25%; } /* Acciones */

/* Adjust column width for search and filter inputs to better align with button frame */
#clientSearchInput, #proveedorSearchInput, #operarioSearchInput, #presupuestoSearchInput, #ordenTrabajoSearchInput {
    flex-grow: 1; /* Allow search input to grow */
    max-width: 250px; /* Set a reasonable max-width */
}
#clientFilterSelect, #proveedorFilterSelect, #operarioFilterSelect, #presupuestoFilterSelect, #ordenTrabajoFilterSelect {
    width: 200px; /* Fixed width as requested */
    height: 34.5px; /* Fixed height as requested */
    max-width: none; /* Remove max-width constraint */
}

/* Specific overrides for individual filter selects */
#ordenTrabajoFilterSelect {
    max-width: 1400px; /* Set max-width as requested */
}

.d-flex.flex-column.flex-md-row.align-items-center.w-100.w-md-auto {
    flex-wrap: nowrap; /* Prevent wrapping in this flex container if possible */
}

/* Small adjustments for mobile responsiveness */
@media (max-width: 768px) {
    #sidebar {
        min-width: 80px;
        max-width: 80px;
        padding: 0;
    }
    #sidebar .sidebar-header .logo-name,
    #sidebar .nav-links li a .link-name,
    #sidebar .nav-links li .sub-menu a .link-name,
    #sidebar .nav-links li .sub-menu.blank {
        display: none;
        opacity: 0;
        pointer-events: none;
    }
    #sidebar .sidebar-header .icon {
        min-width: 100%;
        text-align: center;
    }
    #sidebar .nav-links li i.icon {
        min-width: 100%; /* Full width for icon on small screens */
        text-align: center;
    }
    #sidebar .nav-links li .iocn-link {
        justify-content: center;
    }
    #sidebar .nav-links li i.arrow {
        display: none;
    }
    #sidebar .nav-links li a {
        padding: 10px 0;
        justify-content: center;
    }
    #sidebar .nav-links li .sub-menu {
        position: absolute;
        left: 100%;
        top: 0;
        width: 200px;
        background: rgba(0, 0, 0, 0.2); /* Keep dark for pop-up */
        border-radius: 8px;
        padding: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.4); /* Darker shadow */
        z-index: 1000;
        opacity: 0;
        pointer-events: none;
        transform: translateX(-10px);
    }
    #sidebar .nav-links li.showMenu .sub-menu {
        opacity: 1;
        pointer-events: auto;
        transform: translateX(0);
    }
    #top-navbar .search-box {
        max-width: 200px;
    }
    #top-navbar .user-profile span {
        display: none;
    }
    #sidebar .sidebar-card,
    #sidebar-footer {
        display: none; /* Hide calendar, agenda, and user profile on very small screens for space */
    }

    /* Adjust cards in top-navbar for smaller screens */
    #top-navbar .d-flex.w-100.justify-content-around.align-items-center {
        flex-direction: column; /* Stack cards vertically */
        align-items: stretch; /* Stretch cards to full width */
    }
    #top-navbar .dashboard-card.top-navbar-card {
        width: auto; /* Allow width to be flexible */
        flex-basis: auto; /* Reset flex-basis */
        margin-left: 0 !important; /* Remove horizontal margin */
        margin-right: 0 !important; /* Remove horizontal margin */
        margin-bottom: 8px !important; /* Add some margin between stacked cards */
    }
    #top-navbar .dashboard-card.top-navbar-card:last-child {
        margin-bottom: 0 !important;
    }
}

/* Client Management Modal */
#clientModal .modal-body {
    background-color: #ffffff !important;
}

#clientModal #clientForm {
    background-color: #ffffff !important;
}

/* Supplier Management Modal */
#proveedorModal .modal-body {
    background-color: #ffffff !important;
}

#proveedorModal #proveedorForm {
    background-color: #ffffff !important;
}

/* Operator Management Modal */
#operarioModal .modal-body {
    background-color: #ffffff !important;
}

#operarioModal #operarioForm {
    background-color: #ffffff !important;
}

/* Category Management Modal */
#categoryModal .modal-body {
    background-color: #ffffff !important;
}

#categoryModal #categoryForm {
    background-color: #ffffff !important;
}

/* User Management Modal */
#userModal .modal-body {
    background-color: #ffffff !important;
}

#userModal #userForm {
    background-color: #ffffff !important;
}

/* User Level Manager Modal */
#userLevelManagerModal .modal-body {
    background-color: #ffffff !important;
}

#userLevelManagerModal #userLevelForm {
    background-color: #ffffff !important;
}

/* Work Status Management Modal */
#workStatusModal .modal-body {
    background-color: #ffffff !important;
}

#workStatusModal #workStatusForm {
    background-color: #ffffff !important;
}

/* Subcategory Management Modal */
#subcategoryModal .modal-body {
    background-color: #ffffff !important;
}

#subcategoryModal #subcategoryForm {
    background-color: #ffffff !important;
}

/* Orden de Trabajo Management Modal */
#ordenTrabajoModal .modal-body {
    background-color: #ffffff !important;
}

#ordenTrabajoModal .modal-header {
    background-color: #ffffff !important;
}

#ordenTrabajoModal #ordenTrabajoForm {
    background-color: #ffffff !important;
}

/* Presupuesto Management Modal */
#presupuestoModal .modal-body {
    background-color: #ffffff !important;
}

#presupuestoModal .modal-header {
    background-color: #ffffff !important;
}

#presupuestoModal #presupuestoForm {
    background-color: #ffffff !important;
}

.autocomplete-container {
    position: relative;
    width: 100%; /* Or whatever width desired for the input */
}

.autocomplete-suggestions {
    position: absolute;
    border: 1px solid #ddd;
    background-color: #fff;
    max-height: 200px;
    overflow-y: auto;
    width: 100%;
    z-index: 1000; /* Ensure it appears above other elements */
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    display: none; /* Hidden by default */
    border-radius: 8px;
    margin-top: 4px; /* Space below the input */
}

.autocomplete-suggestion-item {
    padding: 8px 12px;
    cursor: pointer;
    font-size: 12px; /* Consistent with other form inputs */
    color: #333;
}

.autocomplete-suggestion-item:hover {
    background-color: #f0f0f0;
}

/* Custom styling for the delete button in tables */
.edit-btn {
    background-color: #960606 !important; /* Specific dark red */
    border-color: #960606 !important; /* Match border to background */
    color: #ffffff !important; /* Ensure text/icon color is white for the button itself */
}

.edit-btn i {
    color: #ffffff !important; /* Explicitly set icon color to white */
}

/* Messaging Modal specific styles */
#messageModal .modal-body .list-group-item {
    font-size: 1rem;
    padding: 10px 15px;
    border-radius: 0;
    cursor: pointer;
}

#messageModal .modal-body .list-group-item.active {
    background-color: #0d6efd;
    color: white;
    border-color: #0d6efd;
}

#messageModal .modal-body .list-group-item:hover {
    background-color: #e9ecef;
}

#messageModal .modal-body .list-group-item.active:hover {
    background-color: #0d6efd;
}

.chat-messages {
    background-color: #f8f9fa; /* Light background for chat area */
    display: flex;
    flex-direction: column;
}

.chat-messages .message-bubble {
    padding: 8px 12px;
    border-radius: 15px;
    margin-bottom: 8px;
    max-width: 75%;
    word-wrap: break-word;
}

.chat-messages .message-bubble.sent {
    background-color: #0d6efd; /* Primary blue */
    color: white;
    margin-left: auto; /* Push to right */
    border-bottom-right-radius: 2px; /* Pointy corner */
}

.chat-messages .message-bubble.received {
    background-color: #e9ecef; /* Light grey */
    color: #333;
    margin-right: auto; /* Push to left */
    border-bottom-left-radius: 2px; /* Pointy corner */
}

.chat-messages .message-meta {
    font-size: 0.75em;
    color: #6c757d;
    margin-top: -4px; /* Move closer to bubble */
    margin-bottom: 8px;
}
.chat-messages .message-bubble.sent + .message-meta {
    text-align: right;
    margin-right: 12px; /* Align with bubble */
}
.chat-messages .message-bubble.received + .message-meta {
    text-align: left;
    margin-left: 12px; /* Align with bubble */
}

.table-editable-cell {
    cursor: pointer;
    position: relative;
    transition: background 0.2s;
}
.table-editable-cell.editing {
    background: #fff9c4 !important; /* Amarillo claro */
    outline: 1px solid #fbc02d;
}
.table-editable-cell[title]:hover::after {
    content: attr(title);
    position: absolute;
    z-index: 10;
    left: 0;
    top: 100%;
    min-width: 180px;
    max-width: 400px;
    background: #222;
    color: #fff;
    font-size: 12px;
    padding: 7px 12px;
    border-radius: 6px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    white-space: pre-line;
    word-break: break-word;
    margin-top: 3px;
    pointer-events: none;
}
/* Dragging style for modal headers */
.modal-header {
  cursor: move;
  user-select: none;
}
